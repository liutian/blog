### 分支定义
- `dev` 开发分支，对标开发环境，包含 `所有功能`
- `qa` 测试分支，对标测试环境，包含 `所有功能`
- `pl` 预生产分支，对标预生产环境，包含即将上线的 `所有功能`
- `master` 生产分支，对标生产环境
- `hotfix/**` 补丁分支，仅用于临时修复线上问题，命名为迭代版本 + 日期
- `feature/**` 功能分支，开发人员 `自己` 创建的分支，命名为迭代版本 + 人名
- `release-**` 多版本发布分支，命名为迭代版本


### 正常迭代【瀑布式】
1. 每次迭代，开发人员基于最新master创建 `feature/**` 功能分支
2. 功能开发过程中可以将代码合并到 `dev` 分支
3. 功能开发完毕，将 `dev` 分支合并到 `qa` 分支
4. 测试阶段，发现bug，在功能分支进行修复，然后依次进行 2、3步骤
5. pl验证阶段，将 `qa` 分支代码合并到 `pl` 分支
6. pl阶段，发现bug，在功能分支进行修复，然后依次进行 2、3、5步骤
7. 大部分迭代可能都不需要pl环境验证，所以5、6两个步骤可以忽略，必要时进行操作即可
8. 发布日，如果有pl阶段，将 `pl` 合并到 `master`，没有则将 `qa` 合并到 `master`
9. 5、8步骤必须由 `分支管理员` 操作，严禁开发人员操作


### 线上问题修复
1. 基于最新 `master` 分支创建 `hotfix/**` 补丁分支
2. 线上问题验证阶段，将补丁分支发布到 `测试环境`，必要时可以将补丁分支发布到 `预生产环境`
3. 线上问题验证完毕，将补丁分支合并到 `master` 分支
4. 发布日，将补丁分支合并到功能分支

### 非正常迭代【多版本迭代并行】
和正常迭代区别是，`分支管理员` 基于最新master创建 `release-**` ，发布日开发人员将功能分支合并到此分支，并发布测试环境，进行快速回归验证，之后将该分支合并到master分支


- **禁止在 `dev` `qa` `pl` `master` 直接提交代码**
- **合并分支产生冲突，提交记录必须标注说明**
- **分支合并方向：功能分支 -〉开发分支 -〉测试分支 -〉预生产分支 -〉生产分支，`严禁` 反方向合并；当功能分支之间存在相互依赖时，可以进行相互合并，前提是功能分支属于同一个迭代**
- **由分支管理员决定当前是否需求进行 `非正常迭代`**


